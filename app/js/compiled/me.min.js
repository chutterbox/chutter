(function(){var app;app=angular.module("MeApp",["Chutter"])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("dashboardCtrl",["$scope",function($scope){}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("homeCtrl",["$scope",function($scope){}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("preferencesCtrl",["$scope",function($scope){}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("savedCtrl",["$scope",function($scope){}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("statsCtrl",["$scope",function($scope){}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("submissionsCtrl",["$scope","Page",function($scope,Page){return $scope.page=Page}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("conversationContentCtrl",["$stateParams","ConversationResource","$scope","ConversationState","Conversation",function($stateParams,ConversationResource,$scope,ConversationState,Conversation){$scope.conversationState=ConversationState;$scope.conversationState.conversation=Conversation;return $scope.reply=function(){return ConversationResource.reply({id:$stateParams.id,body:$scope.replyText})}}]);app.controller("conversationsCtrl",["$scope","ConversationState","Conversations","ConversationResource",function($scope,ConversationState,Conversations,ConversationResource){$scope.conversationState=ConversationState;return $scope.conversationState.conversations=Conversations}]);app.controller("conversationComposeCtrl",["$scope","ConversationResource","$state",function($scope,ConversationResource,$state){$scope.newConversation={recipient_username:"",messages_attributes:[{body:""}]};return $scope.submit=function(){return ConversationResource.save({conversation:$scope.newConversation}).$promise.then(function(data){return $state.transitionTo("home.conversations.conversation",{id:data.id},{reload:true})})}}])}).call(this);(function(){var app;app=angular.module("MeApp");app.controller("postsCtrl",["$scope",function($scope){}]);app.controller("notificationsCtrl",["$scope","Notifications",function($scope,Notifications){return $scope.notifiable_entities=Notifications}])}).call(this);(function(){}).call(this);(function(){var app;app=angular.module("MeApp");app.directive("notification",["NotificationView",function(NotificationView){return{restrict:"E",scope:{entity:"="},template:'<div ng-click="open()" ng-include="templateUrl" layout="row" layout-align="start center" entity="entity"></div>',link:function(scope,element,attrs){scope.templateUrl="/partials/me/notifications/"+scope.entity.entityable+".html";scope.entity.element=element[0];scope.entity.offsetTop=scope.entity.element.offsetTop;return scope.open=function(){NotificationView.initialize(scope.entity);return NotificationView.show()}}}}]);app.directive("notificationView",["NotificationView",function(NotificationView){return{restrict:"E",templateUrl:"/partials/me/notifications/notification-view.html",link:function(scope,element,attrs){NotificationView.element=element[0];return scope.close=function(){return NotificationView.close()}},controller:["$scope","NotificationView",function($scope,NotificationView){return $scope.viewer=NotificationView}]}}])}).call(this);(function(){var ConversationState,NotificationView,app;ConversationState=function(){function ConversationState(){}ConversationState.prototype.conversations=[];ConversationState.prototype.conversation=[];return ConversationState}();NotificationView=function(){function NotificationView(){}NotificationView.prototype.entity={};NotificationView.prototype.element={};NotificationView.prototype.initialize=function(entity){if(this.entity&&this.entity.element){this.entity.element.className=""}this.entity=entity;return this.notifications=entity.notifications};NotificationView.prototype.show=function(){var timeoutVal;if(this.element.className.indexOf("active")>-1){timeoutVal=0}else{timeoutVal=0}this.element.className="";return setTimeout(function(_this){return function(){_this.element.style.cssText+="top: "+_this.entity.offsetTop+"px;";_this.element.className="active";_this.entity.element.className="active";_this.entity.loading=true;_this.entity.loading=false;return _this.element.className="active"}}(this),timeoutVal)};NotificationView.prototype.close=function(){if(this.entity&&this.entity.element){this.entity.element.className=""}return this.element.className=""};return NotificationView}();app=angular.module("MeApp");app.factory("ConversationState",[function(){return new ConversationState}]);app.factory("NotificationView",[function(){return new NotificationView}])}).call(this);(function(){var app;app=angular.module("MeApp");app.factory("UserResource",["$resource","API",function($resource,API){return $resource(API.makeURL("/users/:id"),{id:"@id"},{submissions:{url:API.makeURL("/users/submissions"),isArray:true},notifications:{url:API.makeURL("/users/notifications"),isArray:true}})}]);app.factory("ConversationResource",["$resource","API",function($resource,API){return $resource(API.makeURL("/conversations/:id"),{id:"@id"},{messages:{url:API.makeURL("/conversations/:id/messages"),isArray:true},reply:{method:"POST",url:API.makeURL("/conversations/:id/reply")}})}])}).call(this);(function(){"use strict";var app;app=angular.module("MeApp");app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){var conversationCompose,conversationContent,conversations,dashboard,home,notifications,preferences,saved,stats,submissions,view_url;view_url="/partials/me";home={name:"home","abstract":true,templateUrl:view_url+"/layout.html",controller:"homeCtrl"};dashboard={name:"home.dashboard",url:"/",templateUrl:view_url+"/dashboard.html",controller:"dashboardCtrl"};conversations={name:"home.conversations",url:"/conversations",templateUrl:view_url+"/conversations/conversations.html",controller:"conversationsCtrl",resolve:{Conversations:["ConversationResource",function(ConversationResource){return ConversationResource.query()}]}};conversationCompose={name:"home.conversations.compose",url:"/compose",views:{middle:{templateUrl:view_url+"/conversations/compose.html",controller:"conversationComposeCtrl"}}};conversationContent={name:"home.conversations.conversation",url:"/:id",views:{middle:{templateUrl:view_url+"/conversations/conversation.html",controller:"conversationContentCtrl"}},resolve:{Conversation:["ConversationResource","$stateParams",function(ConversationResource,$stateParams){return ConversationResource.messages({id:$stateParams.id})}]}};notifications={name:"home.notifications",url:"/notifications",templateUrl:view_url+"/notifications/notifications.html",controller:"notificationsCtrl",resolve:{Notifications:["UserResource",function(UserResource){return UserResource.notifications()}]}};saved={name:"home.saved",url:"/saved",templateUrl:view_url+"/saved.html",controller:"savedCtrl"};preferences={name:"home.preferences",url:"/preferences",templateUrl:view_url+"/preferences.html",controller:"preferencesCtrl"};submissions={name:"home.submissions",url:"/submissions",templateUrl:view_url+"/submissions.html",controller:"submissionsCtrl",resolve:{Submissions:["UserResource",function(UserResource){return UserResource.submissions()}]},onEnter:["Submissions","Page",function(Submissions,Page){return Page.posts=Submissions}]};stats={name:"home.stats",url:"/stats",templateUrl:view_url+"/stats.html",controller:"savedCtrl"};$stateProvider.state(home);$stateProvider.state(dashboard);$stateProvider.state(conversations);$stateProvider.state(conversationCompose);$stateProvider.state(conversationContent);$stateProvider.state(notifications);$stateProvider.state(saved);$stateProvider.state(preferences);$stateProvider.state(stats);return $stateProvider.state(submissions)}])}).call(this);
//# sourceMappingURL=me.min.js.map