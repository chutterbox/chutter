<div ng-repeat="message in conversationState.conversation | filter:searchPredicate" id="messages"><div ng-if="message.other_participant" layout="row" flex="flex" layout-padding="layout-padding"><md-button ng-bind="message.username.charAt(0)" class="md-fab md-accent md-hue-2"><md-tooltip>{{message.username}}</md-tooltip></md-button><div layout-padding="layout-padding" layout="column" class="message grey md-whiteframe-z1"><div ng-bind="message.body" class="body"></div></div></div><div ng-if="!message.other_participant" layout="row" flex="flex" layout-padding="layout-padding" layout-align="end start"><div layout-padding="layout-padding" layout="column" class="message md-whiteframe-z1"><div flex="flex" class="body"><p ng-bind="message.body"></p></div></div><md-button ng-bind="message.username.charAt(0)" class="md-fab md-primary"><md-tooltip>{{message.username}}</md-tooltip></md-button></div></div><div><form ng-submit="reply()" class="reply"><md-input-container flex="flex"><label>Description</label><textarea ng-model="replyText" type="text"></textarea></md-input-container><md-button type="submit" class="md-raised md-primary">Send</md-button></form></div>